

<div class="box no-border">
    <div class="box-header">
        <button class="btn" ng-click="vm.showGuestUpload()"><i class="fa fa-cloud-upload"></i> Upload</button>
        <button class="btn btn-default" ng-click="vm.filterWaitingQueue()"> <i class="fa fa-clock-o"></i> Show Waiting Queue</button>
        <button class="btn btn-default" ng-click="vm.filterMailQueue()"> <i class="fa fa-envelope"></i> Show Mail Queue</button>
        <button class="btn btn-default pull-right" ng-click="vm.addGuest()"> <i class="icon ion-ios-personadd fa-lg"></i> Register Guest</button>
    </div>
    <div class="box-body">

        <table st-table="vm.selectedEvent.guests" st-pipe="vm.searchGuests" class="table table-striped table-bordered table-hover">

            <thead class="text-nowrap">
                <tr>
                    <th st-sort="name">Name</th>
                    <th>Address</th>
                    <th st-sort="city">City</th>
                    <th st-sort="state">State</th>
                    <th st-sort="zipcode">Zipcode</th>
                    <th st-sort="ticketIssued">Ticket</th>
                    <th st-sort="guestCount">Guests</th>
                    <th st-sort="email">Email</th>
                    <th st-sort="phone">Phone</th>
                    <th st-sort="accountId">Account Id</th>
                    <th st-sort="finderNumber">Finder Number</th>
                    <th></th>
                </tr>
                <tr>
                    <td><input type="search" st-search="name" class="form-control" placeholder="Name" /></td>
                    <td><input type="text" st-clear-key st-search="address" class="form-control" placeholder="Address" /></td>
                    <td><input type="text" st-clear-key st-search="city" class="form-control" placeholder="City" /></td>
                    <td><input type="text" st-clear-key st-search="state" class="form-control" placeholder="State" /></td>
                    <td><input type="text" st-clear-key st-search="zipcode" class="form-control" placeholder="Zipcode" /></td>
                    <td width="80">
                        <!--<input type="checkbox" st-search="ticketIssued" class="form-control" placeholder="Zipcode"/>-->
                        <select st-search="isMailed" class="form-control">
                            >
                            <option value="" selected="">All</option>
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </td>
                    <td><input type="text" class="form-control" placeholder="Guests" /></td>
                    <td><input type="text" st-clear-key st-search="email" class="form-control" placeholder="Email" /></td>
                    <td><input type="text" st-clear-key st-search="phone" class="form-control" placeholder="Phone" /></td>
                    <td><input type="text" st-clear-key st-search="accountId" class="form-control" placeholder="Account Id"/></td>
                    <td><input type="text" st-clear-key st-search="finderNumber" class="form-control" placeholder="Finder Number"/></td>
                    <td></td>
                </tr>
            </thead>
            <tbody>

                <tr ng-repeat="g in vm.selectedEvent.guests">
                    <td>{{g.name}}</td>
                    <td>
                        <address>
                            {{g.street}}
                            <br>
                            {{g.street2}}<br>
                            {{g.street3}}
                        </address>
                    </td>
                    <td>{{g.city}}</td>
                    <td>{{g.state}}</td>
                    <td>{{g.zipcode}}</td>
                    <td class="text-center">{{g.isMailed | checkmark}}</td>
                    <td>{{g.guestCount}}</td>
                    <td>{{g.email}}</td>
                    <td>{{g.phone}}</td>
                    <td>{{g.accountId}}</td>
                    <td>{{g.finderNumber}}</td>
                    <td style="width: 150px;">

                        <div class="btn-group">
                            <button type="button" class="btn btn-danger" ng-click="vm.editGuest(g)">Edit</button>
                            <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a href="#">Edit</a></li>
                                <li><a class="btn" ng-disabled="!g.isWaiting" ng-click="vm.addToMailQueue(g)">Add to Mail Queue</a></li>
                                <li><a class="btn" ng-disabled="!g.isAttending && !g.isMailed" ng-click="vm.mailTicket(g)">Mail Ticket Now</a></li>
                            </ul>
                        </div>

                        <!--<div class="btn-group">
                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Action <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a href="#">Edit</a></li>
                                <li><a href="#">Add to Mail Queue</a></li>
                                <li><a href="#">Send Ticket</a></li>
                            </ul>
                        </div>-->
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="12" class="text-center">
                        <uib-pagination total-items="vm.searchModel.filteredCount"
                                        ng-model="vm.searchModel.page"
                                        max-size="5"
                                        items-per-page="vm.searchModel.pageSize"
                                        class="pagination-sm"
                                        boundary-link-numbers="true"
                                        ng-change="vm.paged()"
                                        rotate="false">
                        </uib-pagination>
                    </td>
                </tr>
            </tfoot>
        </table>

  
</div>

